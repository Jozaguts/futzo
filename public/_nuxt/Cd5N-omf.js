import{g as q,p as L,ap as T,aq as K,ar as M,M as $,c as y,r as g,as as E,at as d,w as k,e as G,au as H,f as c,av as J,i as b,F as Q,aw as U,m as x,ax as W,ay as X,az as Y,aA as Z,aB as ee,n as te,z as ae,aC as A}from"./016mahUR.js";import{a as le}from"./BuMHRPYM.js";const ne=L({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...Z(),...Y(),...X(ee({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),ie=q()({name:"VOtpInput",props:ne(),emits:{finish:t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,F){let{attrs:w,emit:C,slots:r}=F;const{dimensionStyles:P}=T(t),{isFocused:h,focus:B,blur:D}=K(t),o=M(t,"modelValue","",e=>e==null?[]:String(e).split(""),e=>e.join("")),{t:S}=$(),v=y(()=>Number(t.length)),_=y(()=>Array(v.value).fill(0)),i=g(-1),m=g(),s=g([]),p=y(()=>s.value[i.value]);function I(){if(V(p.value.value)){p.value.value="";return}const e=o.value.slice(),a=p.value.value;e[i.value]=a;let n=null;i.value>o.value.length?n=o.value.length+1:i.value+1!==v.value&&(n="next"),o.value=e,n&&A(m.value,n)}function N(e){const a=o.value.slice(),n=i.value;let u=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(e.key)&&(e.preventDefault(),e.key==="ArrowLeft"?u="prev":e.key==="ArrowRight"?u="next":["Backspace","Delete"].includes(e.key)&&(a[i.value]="",o.value=a,i.value>0&&e.key==="Backspace"?u="prev":requestAnimationFrame(()=>{var l;(l=s.value[n])==null||l.select()})),requestAnimationFrame(()=>{u!=null&&A(m.value,u)}))}function R(e,a){var u,l;a.preventDefault(),a.stopPropagation();const n=((u=a==null?void 0:a.clipboardData)==null?void 0:u.getData("Text").slice(0,v.value))??"";V(n)||(o.value=n.split(""),(l=s.value)==null||l[e].blur())}function z(){o.value=[]}function O(e,a){B(),i.value=a}function j(){D(),i.value=-1}function V(e){return t.type==="number"&&/[^0-9]/g.test(e)}return E({VField:{color:d(()=>t.color),bgColor:d(()=>t.color),baseColor:d(()=>t.baseColor),disabled:d(()=>t.disabled),error:d(()=>t.error),variant:d(()=>t.variant)}},{scoped:!0}),k(o,e=>{e.length===v.value&&C("finish",e.join(""))},{deep:!0}),k(i,e=>{e<0||te(()=>{var a;(a=s.value[e])==null||a.select()})}),G(()=>{var n;const[e,a]=H(w);return c("div",x({class:["v-otp-input",{"v-otp-input--divided":!!t.divider},t.class],style:[t.style]},e),[c("div",{ref:m,class:"v-otp-input__content",style:J([P.value])},[_.value.map((u,l)=>c(Q,null,[t.divider&&l!==0&&c("span",{class:"v-otp-input__divider"},[t.divider]),b(U,{focused:h.value&&t.focusAll||i.value===l,key:l},{...r,loader:void 0,default:()=>c("input",{ref:f=>s.value[l]=f,"aria-label":S(t.label,l+1),autofocus:l===0&&t.autofocus,autocomplete:"one-time-code",class:ae(["v-otp-input__field"]),disabled:t.disabled,inputmode:t.type==="number"?"numeric":"text",min:t.type==="number"?0:void 0,maxlength:l===0?v.value:"1",placeholder:t.placeholder,type:t.type==="number"?"text":t.type,value:o.value[l],onInput:I,onFocus:f=>O(f,l),onBlur:j,onKeydown:N,onPaste:f=>R(l,f)},null)})])),c("input",x({class:"v-otp-input-input",type:"hidden"},a,{value:o.value.join("")}),null),b(W,{contained:!0,"content-class":"v-otp-input__loader","model-value":!!t.loading,persistent:!0},{default:()=>{var u;return[((u=r.loader)==null?void 0:u.call(r))??b(le,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,size:"24",width:"2"},null)]}}),(n=r.default)==null?void 0:n.call(r)])])}),{blur:()=>{var e;(e=s.value)==null||e.some(a=>a.blur())},focus:()=>{var e;(e=s.value)==null||e[0].focus()},reset:z,isFocused:h}}});export{ie as V};
