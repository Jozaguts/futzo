import{_ as $}from"./D9Gpvmdj.js";import{_ as j}from"./DqJEwsBV.js";import v from"./DK4Md9xt.js";import{l as x,r as b,aj as V,J as z,I as w,o as p,V as y,v as t,q as d,i as e,C as m,f as o,D as C,ak as h,a3 as I,a as u,t as B,A as k,ag as L,a9 as S,x as E,ao as F,F as R,aD as A,k as D}from"./016mahUR.js";import{V as N}from"./Bn7sXBAg.js";import{V as T}from"./BuMHRPYM.js";import{u as g}from"./Bd6NytqX.js";const P={class:"icon-container"},M=x({__name:"create-league",setup(f){const a=b(""),{user:c}=V();return z(()=>{var r;(r=c.value)!=null&&r.has_league&&w().push({name:"index"})}),(r,s)=>{const l=v;return d(),p(y,{class:"welcome-card"},{default:t(()=>[e(C,{class:"d-flex align-center justify-center pt-0"},{default:t(()=>[e(m,{class:"d-flex justify-center"},{default:t(()=>[o("div",P,[e(l,{name:"futzo-icon:trophy-01"})])]),_:1}),e(m,{class:"welcome-card__subtitle"},{default:t(()=>s[2]||(s[2]=[o("span",null," Vamos a crear tu primer liga",-1)])),_:1,__:[2]})]),_:1}),e(L,{class:"w-100 d-flex flex-column align-center"},{default:t(()=>[e(N,{class:"w-100",onSubmit:s[1]||(s[1]=h(n=>r.$emit("event",{action:"create-league",params:{leagueName:u(a)}}),["prevent"])),"fast-fail":""},{default:t(()=>[s[4]||(s[4]=o("label",{for:"league"}," Nombra tu liga ",-1)),e(I,{rules:[n=>n.length>5?!0:"El nombre debe tener al menos 6 caracteres."],modelValue:u(a),"onUpdate:modelValue":s[0]||(s[0]=n=>B(a)?a.value=n:null),variant:"outlined",placeholder:"P. ej. Liga Vallarta",width:"100%",class:"create-league-input",density:"compact"},null,8,["rules","modelValue"]),e(T,{class:"ml-auto mb-2 create-league-btn",color:"primary",variant:"elevated",size:"x-large",density:"compact",block:"",type:"submit",disabled:u(a).length<5},{default:t(()=>s[3]||(s[3]=[k(" Crear liga ")])),_:1,__:[3]},8,["disabled"])]),_:1,__:[4]})]),_:1})]),_:1})}}}),O={};function q(f,a){const c=v;return d(),p(y,{class:"welcome-card",width:"490"},{default:t(()=>[e(C,{class:"d-flex align-center justify-center pt-0"},{default:t(()=>[e(m,{class:"d-flex justify-center"},{default:t(()=>[e(c,{class:"check-verified-green",name:"futzo-icon:check-verified-green",size:"32"})]),_:1}),e(m,{class:"welcome-card__subtitle"},{default:t(()=>a[1]||(a[1]=[o("span",null,"Tu liga ha sido creada",-1),o("p",{class:"welcome-card__subtitle__"}," Ya puedes empezar a planificar tu liga. ",-1)])),_:1,__:[1]})]),_:1}),e(L,{class:"w-100 d-flex flex-column align-center"},{default:t(()=>[e(N,{class:"w-100",onSubmit:a[0]||(a[0]=h(r=>f.$emit("event",{action:"league-created"}),["prevent"])),"fast-fail":""},{default:t(()=>[e(T,{class:"ml-auto create-league-btn",color:"primary",variant:"elevated",size:"x-large",density:"compact",block:"",type:"submit"},{default:t(()=>a[2]||(a[2]=[k(" Iniciar sesión ")])),_:1,__:[2]})]),_:1})]),_:1})]),_:1})}const H=S(O,[["render",q]]),J={class:"welcome-main-container"},U={class:"welcome-logo-container"},Y={class:"welcome-email-container"},ae=x({__name:"bienvenido",setup(f){const a=b("CreateLeague"),c=l=>{D()("/api/v1/admin/leagues",{credentials:"include",method:"POST",body:{name:l}}).then(n=>{g().toast("success","Liga Registrada","Tu liga ha sido registrada con éxito. ¡Comienza a jugar!"),a.value="CreatedLeague"}).catch(n=>{var i;g().toast("error","Error al Registrar Liga",((i=n==null?void 0:n.data)==null?void 0:i.message)??"No se pudo registrar la liga. Por favor, intenta nuevamente.")}).finally(()=>{})},r={CreateLeague:M,CreatedLeague:H},s=l=>{if(l.action==="create-league"&&c(l.params.leagueName),l.action==="league-created"){const{refreshIdentity:n,isAuthenticated:i}=V();n().catch(_=>console.error(_)).then(()=>{i.value&&w().push({name:"index"})})}};return(l,n)=>{const i=$,_=j;return d(),E(R,null,[o("div",J,[o("div",U,[e(i,{"max-width":"165"})]),o("div",Y,[(d(),p(F(r[u(a)]),{onEvent:s},null,32))])]),e(_,null,{default:t(()=>[e(u(A),{position:"top-right",offset:"80px",duration:3e3})]),_:1})],64)}}});export{ae as default};
