import{l as r,J as c,H as n,k as l,aj as u,I as i,x as d,f as p,q as h}from"./016mahUR.js";const k=r({__name:"callback",setup(f){return c(()=>{const e=n().params.provider[0];e==="google"||e==="facebook"?l()(`/auth/${e}/callback`,{credentials:"include",params:{code:n().query.code}}).then(()=>{const{refreshIdentity:t,isAuthenticated:a}=u();t().catch(s=>console.error(s)).then(()=>{a.value?(console.log("user authenticated"),i().push("/")):console.log("user not authenticated")})}).catch(t=>console.error(t)):console.error("provider not found")}),(e,o)=>(h(),d("div",null,o[0]||(o[0]=[p("h1",null,"please wait login in ...",-1)])))}});export{k as default};
